# 代理账单表
DROP TABLE IF EXISTS `GHEALTH_AGENCY_BILL`;
CREATE TABLE `GHEALTH_AGENCY_BILL`
(
    `ID`                varchar(64)         NOT NULL        COMMENT '主键',
    `AGENCY_ID`         varchar(64)         NOT NULL        COMMENT '代理ID',
    `TITLE`             varchar(256)        NOT NULL        COMMENT '账单标题',
    `INCREASED`         tinyint(1)          NOT NULL        COMMENT '0-余额减少 1-余额增加',
    `BILL_TYPE`         varchar(64)         NOT NULL        COMMENT '账单分类，字典项：BILL_TYPE',
    `EVENT_DETAILS`     varchar(64)         NOT NULL        COMMENT '账单事件详情',
    `AMOUNT_BEFORE`     decimal(10,2)       NOT NULL        COMMENT '变更前余额',
    `AMOUNT_AFTER`      decimal(10,2)       NOT NULL        COMMENT '变更后余额',
    `BILL_TIME`         datetime            NOT NULL        COMMENT '记账时间',
    CONSTRAINT PK_AGENCY_BILL PRIMARY KEY (`ID`)
)
;
ALTER TABLE `GHEALTH_AGENCY_BILL` COMMENT '代理账单表';

# 代理充值记录表
DROP TABLE IF EXISTS `GHEALTH_AGENCY_PREPAY`;
CREATE TABLE `GHEALTH_AGENCY_PREPAY`
(
    `ID`                varchar(64)         NOT NULL        COMMENT '主键',
    `AGENCY_ID`         varchar(64)         NOT NULL        COMMENT '代理ID',
    `AMOUNT`            decimal(10,2)       NOT NULL        COMMENT '预付款登记金额',
    `CREATE_TIME`       datetime            NOT NULL        COMMENT '操作时间',
    `CREATOR_NAME`      varchar(64)         NOT NULL        COMMENT '操作人姓名',
    CONSTRAINT PK_AGENCY_PREPAY PRIMARY KEY (`ID`)
)
;
ALTER TABLE `GHEALTH_AGENCY_PREPAY` COMMENT '代理充值记录表';

# 订单-退款申请表
DROP TABLE IF EXISTS `GHEALTH_ORDER_REFUND_APPLY`;
CREATE TABLE `GHEALTH_ORDER_REFUND_APPLY`
(
    `ID`                varchar(64)         NOT NULL        COMMENT '主键',
    `ORDER_ID`          varchar(64)         NOT NULL        COMMENT '订单ID',
    `REASON_CATEGORY`   varchar(64)         NOT NULL        COMMENT '原因分类，字典项：REFUND_REASON_CATEGORY',
    `REASON_DETAILS`    varchar(512)        NOT NULL        COMMENT '具体原因',
    `APPLIER_NAME`      varchar(64)         NOT NULL        COMMENT '申请人姓名',
    `APPLY_TIME`        datetime            NOT NULL        COMMENT '申请时间',
    `STATUS`            tinyint(1)          NOT NULL        COMMENT '处理状态，字典项：NORMAL_APPLY_STATUS',
    `CONFIRM_AMOUNT`    decimal(10,2)                       COMMENT '退款金额',
    `CONFIRM_REMARK`    varchar(512)                        COMMENT '确认备注',
    `CONFIRM_TIME`      datetime                            COMMENT '确认时间',
    `CONFIRMER_NAME`    varchar(64)         NOT NULL        COMMENT '确认人姓名',
    CONSTRAINT PK_ORDER_REFUND_APPLY PRIMARY KEY (`ID`)
)
;
ALTER TABLE `GHEALTH_ORDER_REFUND_APPLY` COMMENT '订单-退款申请表';

# 订单-退款记录表
DROP TABLE IF EXISTS `GHEALTH_ORDER_REFUND`;
CREATE TABLE `GHEALTH_ORDER_REFUND`
(
    `ID`                varchar(64)         NOT NULL        COMMENT '主键',
    `ORDER_ID`          varchar(64)         NOT NULL        COMMENT '订单ID',
    `REFUND_AMOUNT`     decimal(10,2)       NOT NULL        COMMENT '退款金额',
    `REFUND_TIME`       datetime            NOT NULL        COMMENT '退款事件',
    `CONFIRMER_NAME`    varchar(64)         NOT NULL        COMMENT '操作人姓名',
    CONSTRAINT PK_ORDER_REFUND PRIMARY KEY (`ID`)
)
;
ALTER TABLE `GHEALTH_ORDER_REFUND` COMMENT '订单-退款记录表';

# 订单历史表
DROP TABLE IF EXISTS `GHEALTH_ORDER_HISTORY`;
CREATE TABLE `GHEALTH_ORDER_HISTORY`
(
    `ID`                    varchar(64)         NOT NULL        COMMENT '主键',
    `ORDER_ID`              varchar(64)         NOT NULL        COMMENT '订单ID',
    `TITLE`                 varchar(256)        NOT NULL        COMMENT '事件标题',
    `EVENT_TYPE`            varchar(64)         NOT NULL        COMMENT '事件类型，字典项：ORDER_EVENT',
    `EVENT_DETAILS`         varchar(64)                         COMMENT '账单事件详情',
    `EVENT_TIME`            datetime            NOT NULL        COMMENT '记账时间',
    `OPERATOR_NAME`         varchar(64)                         COMMENT '操作人姓名',
    CONSTRAINT PK_ORDER_HISTORY PRIMARY KEY (`ID`)
)
;
ALTER TABLE `GHEALTH_ORDER_HISTORY` COMMENT '订单历史表';

INSERT INTO `GHEALTH_DICT` (`ID`, `PARENT_ID`, `CATEGORY`, `DICT_TEXT`, `DICT_VALUE`, `SORT`, `EDITABLE`) VALUES ('17bf7e6a146c4036b820294d86675200', NULL, 'BILL_TYPE', '账单分类', NULL, NULL, 0);
INSERT INTO `GHEALTH_DICT` (`ID`, `PARENT_ID`, `CATEGORY`, `DICT_TEXT`, `DICT_VALUE`, `SORT`, `EDITABLE`) VALUES ('20deec9111974e02b954d593f7dfe83a', '17bf7e6a146c4036b820294d86675200', 'BILL_TYPE', '预付款', '1', 1, 0);
INSERT INTO `GHEALTH_DICT` (`ID`, `PARENT_ID`, `CATEGORY`, `DICT_TEXT`, `DICT_VALUE`, `SORT`, `EDITABLE`) VALUES ('22835fd1ec244f99b5d1b02b26b9e339', '17bf7e6a146c4036b820294d86675200', 'BILL_TYPE', '下单', '2', 2, 0);
INSERT INTO `GHEALTH_DICT` (`ID`, `PARENT_ID`, `CATEGORY`, `DICT_TEXT`, `DICT_VALUE`, `SORT`, `EDITABLE`) VALUES ('23aef5bf9e524261b14ea0baec8abea9', '17bf7e6a146c4036b820294d86675200', 'BILL_TYPE', '退款', '3', 3, 0);

INSERT INTO `GHEALTH_DICT` (`ID`, `PARENT_ID`, `CATEGORY`, `DICT_TEXT`, `DICT_VALUE`, `SORT`, `EDITABLE`) VALUES ('2e6b6b6c0b57489483452171c55f5ed9', NULL, 'NORMAL_APPLY_STATUS', '申请处理流程-通用状态', NULL, NULL, 0);
INSERT INTO `GHEALTH_DICT` (`ID`, `PARENT_ID`, `CATEGORY`, `DICT_TEXT`, `DICT_VALUE`, `SORT`, `EDITABLE`) VALUES ('310cd7dd8c994a4da9acaa680698d320', '2e6b6b6c0b57489483452171c55f5ed9', 'NORMAL_APPLY_STATUS', '待审核', '1', 1, 0);
INSERT INTO `GHEALTH_DICT` (`ID`, `PARENT_ID`, `CATEGORY`, `DICT_TEXT`, `DICT_VALUE`, `SORT`, `EDITABLE`) VALUES ('31e90ee342c24ca0b0dcb9bbb8434657', '2e6b6b6c0b57489483452171c55f5ed9', 'NORMAL_APPLY_STATUS', '审核通过', '2', 2, 0);
INSERT INTO `GHEALTH_DICT` (`ID`, `PARENT_ID`, `CATEGORY`, `DICT_TEXT`, `DICT_VALUE`, `SORT`, `EDITABLE`) VALUES ('3219d0049dcd4dc28ae3e9541f671ce2', '2e6b6b6c0b57489483452171c55f5ed9', 'NORMAL_APPLY_STATUS', '审核不通过', '3', 3, 0);

INSERT INTO `GHEALTH_DICT` (`ID`, `PARENT_ID`, `CATEGORY`, `DICT_TEXT`, `DICT_VALUE`, `SORT`, `EDITABLE`) VALUES ('32e0c455999d4c37a517b05fbd6da04d', NULL, 'REFUND_REASON_CATEGORY', '申请退款-原因分类', NULL, NULL, 1);
INSERT INTO `GHEALTH_DICT` (`ID`, `PARENT_ID`, `CATEGORY`, `DICT_TEXT`, `DICT_VALUE`, `SORT`, `EDITABLE`) VALUES ('34118b5d212b4bda99c66a1b5d15fb80', '32e0c455999d4c37a517b05fbd6da04d', 'REFUND_REASON_CATEGORY', '其他', '1', 1, 1);

INSERT INTO `GHEALTH_DICT` (`ID`, `PARENT_ID`, `CATEGORY`, `DICT_TEXT`, `DICT_VALUE`, `SORT`, `EDITABLE`) VALUES ('477870a83eab407290701e047e98b2c8', NULL, 'ORDER_EVENT', '订单事件', NULL, NULL, 0);
INSERT INTO `GHEALTH_DICT` (`ID`, `PARENT_ID`, `CATEGORY`, `DICT_TEXT`, `DICT_VALUE`, `SORT`, `EDITABLE`) VALUES ('47b7fb823dd7431c8aaaec89ece7fa14', '477870a83eab407290701e047e98b2c8', 'ORDER_EVENT', '订单暂存', '1', 1, 0);
INSERT INTO `GHEALTH_DICT` (`ID`, `PARENT_ID`, `CATEGORY`, `DICT_TEXT`, `DICT_VALUE`, `SORT`, `EDITABLE`) VALUES ('4a3b8b375ad44c159c5593d1a0af8d74', '477870a83eab407290701e047e98b2c8', 'ORDER_EVENT', '订单提交', '2', 2, 0);
INSERT INTO `GHEALTH_DICT` (`ID`, `PARENT_ID`, `CATEGORY`, `DICT_TEXT`, `DICT_VALUE`, `SORT`, `EDITABLE`) VALUES ('4a9c644f09db444085735ca0a2e56200', '477870a83eab407290701e047e98b2c8', 'ORDER_EVENT', '样本签收', '3', 3, 0);
INSERT INTO `GHEALTH_DICT` (`ID`, `PARENT_ID`, `CATEGORY`, `DICT_TEXT`, `DICT_VALUE`, `SORT`, `EDITABLE`) VALUES ('4c83aa97836448c0ae75bba6ea5735b2', '477870a83eab407290701e047e98b2c8', 'ORDER_EVENT', '样本寄送', '4', 4, 0);
INSERT INTO `GHEALTH_DICT` (`ID`, `PARENT_ID`, `CATEGORY`, `DICT_TEXT`, `DICT_VALUE`, `SORT`, `EDITABLE`) VALUES ('4f8723cf364846d286e2eb11c5caedb2', '477870a83eab407290701e047e98b2c8', 'ORDER_EVENT', '上传数据', '5', 5, 0);
INSERT INTO `GHEALTH_DICT` (`ID`, `PARENT_ID`, `CATEGORY`, `DICT_TEXT`, `DICT_VALUE`, `SORT`, `EDITABLE`) VALUES ('50cfeae230da4d9c8f7876de2eaf0c20', '477870a83eab407290701e047e98b2c8', 'ORDER_EVENT', '生成报告', '6', 6, 0);
INSERT INTO `GHEALTH_DICT` (`ID`, `PARENT_ID`, `CATEGORY`, `DICT_TEXT`, `DICT_VALUE`, `SORT`, `EDITABLE`) VALUES ('533b6d4d9bc04691ad9a2756b304b304', '477870a83eab407290701e047e98b2c8', 'ORDER_EVENT', '订单取消', '7', 7, 0);
INSERT INTO `GHEALTH_DICT` (`ID`, `PARENT_ID`, `CATEGORY`, `DICT_TEXT`, `DICT_VALUE`, `SORT`, `EDITABLE`) VALUES ('54736fe077914499a765ed49989b01e7', '477870a83eab407290701e047e98b2c8', 'ORDER_EVENT', '申请退款', '8', 8, 0);
INSERT INTO `GHEALTH_DICT` (`ID`, `PARENT_ID`, `CATEGORY`, `DICT_TEXT`, `DICT_VALUE`, `SORT`, `EDITABLE`) VALUES ('579b885f090e48f1a3126ff79641e351', '477870a83eab407290701e047e98b2c8', 'ORDER_EVENT', '确认退款', '9', 9, 0);
INSERT INTO `GHEALTH_DICT` (`ID`, `PARENT_ID`, `CATEGORY`, `DICT_TEXT`, `DICT_VALUE`, `SORT`, `EDITABLE`) VALUES ('583ef9dfdf04430ea336f03909f9b837', '477870a83eab407290701e047e98b2c8', 'ORDER_EVENT', '驳回退款申请', '10', 10, 0);
INSERT INTO `GHEALTH_DICT` (`ID`, `PARENT_ID`, `CATEGORY`, `DICT_TEXT`, `DICT_VALUE`, `SORT`, `EDITABLE`) VALUES ('5ad3513e57584dbeaffaa844b2505096', '477870a83eab407290701e047e98b2c8', 'ORDER_EVENT', '订单完成', '11', 11, 0);
