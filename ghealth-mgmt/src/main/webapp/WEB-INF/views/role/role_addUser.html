<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="renderer" content="webkit">
    <meta http-equiv="Cache-Control" content="no-siteapp"/>
    <title>系统设置-角色管理</title>
    <link href="${plugins}/bootstrap/bootstrap.min.css" rel="stylesheet"></link>
    <link href="${plugins}/hplus/font-awesome.min.css" rel="stylesheet"></link>
    <link href="${plugins}/hplus/animate.min.css" rel="stylesheet"></link>
    <link href="${plugins}/hplus/hplus.min.css" rel="stylesheet"></link>
    <link href="${system_css}/system.css?v=0.1" rel="stylesheet"></link>
    <link href="${plugins}/multiselect/style.css" rel="stylesheet" type="text/css">
</head>
<body class="gray-bg">
<div class="wrapper wrapper-content animated fadeInRight">

    <div class="ibox-content">
        <form id="add_user_Form" class="form-horizontal m-t"  action="" method="post">
            <input type="hidden" name="id" value="${roleId!}">
            <label class="col-sm-2 control-label"></label>
            <div class="col-sm-2">
                <select id="selectable_users" class="form-control" size="10" multiple="multiple">
                    <#if users?? && users?has_content>
                        <#list users as user>
                            <option value="${user.id}" style="margin-left: 20px;">${user.name!?html}
                            </option>
                        </#list>
                    </#if>
                </select>
            </div>
            <div class="col-sm-2" style="margin-top: 25px;">
                <button type="button" id="select_right_all" class="btn btn-block btn-sm">
                    <span class="fa fa-angle-double-right"></span>
                </button>
                <button type="button" id="select_right" class="btn btn-block btn-sm">
                    <i class="fa fa-angle-right"></i>
                </button>
                <button type="button" id="select_left" class="btn btn-block btn-sm">
                    <i class="fa fa-angle-left"></i>
                </button>
                <button type="button" id="select_left_all" class="btn btn-block btn-sm">
                    <i class="fa fa-angle-double-left"></i>
                </button>
            </div>
            <div class="col-sm-2">
                <select name="userIds" id="selected_users" class="form-control" size="10"
                        multiple="multiple" required
                        data-msg="用户不能为空">
                </select>
            </div>

            <div class="form-group" style="margin-left: 23%;">
                <div class="col-sm-4 col-sm-offset-2">
                    <button class="btn btn-primary" type="submit">保存</button>
                    <button class="btn btn-primary" type="button" onclick="redirectBack()">返回</button>
                </div>
            </div>
        </form>
    </div>
</div>
</div>


<script src="${plugins}/jquery/jquery.min.js"></script>
<script src="${plugins}/jquery/jquery.form.js"></script>
<script src="${plugins}/bootstrap/bootstrap.min.js"></script>
<script src="${plugins}/pagination/jquery.pagination.js"></script>
<script src="${system_js}/system.js?v=0.2"></script>
<script src="${plugins}/multiselect/multiselect.min.js" type="text/javascript"></script>
<script src="${plugins}/validation/jquery.validate.min.js"></script>
<script>
    <!--
    $(function () {

        $('#selectable_users').multiselect({
            right: '#selected_users',
            rightAll: '#select_right_all',
            rightSelected: '#select_right',
            leftSelected: '#select_left',
            leftAll: '#select_left_all'
        });
        $('form').validate();

        var ajaxFormOption = {
            url: "${base}/role/addUser.do", //请求url
            success: function () {
                parent.redirectList();
            }
        };

        $("#add_user_Form").ajaxForm(ajaxFormOption);

        });

    function redirectBack()
    {
        parent.redirectBack();
    }

    //-->
</script>

</body>
</html>